2025-04-17 11:01:43,580 - INFO - Loading environment variables start
2025-04-17 11:01:43,587 - INFO - Loading environment variables completes
2025-04-17 11:01:43,588 - INFO - Initialising of LLM start
2025-04-17 11:01:44,128 - INFO - Initialising of LLM completes
2025-04-17 11:01:44,128 - INFO - Getting python file starts
2025-04-17 11:01:44,130 - INFO - Getting python file completes
2025-04-17 11:01:44,130 - INFO - 
Start Processing file: theory_evaluation\circle_utils.py
2025-04-17 11:01:44,130 - INFO - Extraction of function and class start
2025-04-17 11:01:44,131 - INFO - extraction of function and class complete
2025-04-17 11:01:44,131 - INFO - Generate Unit Test Case starts
2025-04-17 11:01:44,131 - INFO - Extract unique import start
2025-04-17 11:01:46,066 - INFO - Extract unique import complete
2025-04-17 11:01:46,066 - INFO - Update relative import start
2025-04-17 11:01:46,068 - INFO - Update relative import complete
2025-04-17 11:01:48,728 - WARNING - Stripped Markdown-style triple backtick fences from LLM output.
2025-04-17 11:01:48,729 - INFO - Generate Unit Test Case complete
2025-04-17 11:01:48,734 - INFO - run_each_pytest_function_individually start
2025-04-17 11:01:51,619 - INFO - Number of test case to process - 6
2025-04-17 11:01:51,620 - INFO - 
TEST CASE 1 Retry 0
---------------
import math
from theory_evaluation.circle_utils import circle_area, circle_circumference
import pytest



def test_circle_area_positive_radius():
    assert circle_area(1) == pytest.approx(math.pi)
    assert circle_area(2) == pytest.approx(4 * math.pi)

---------------
2025-04-17 11:01:52,848 - INFO - TEST CASE 1 Retry 0 - Result - Passed
2025-04-17 11:01:52,848 - ERROR - Exception occurred while processing test case 1: 'test_code'
Traceback (most recent call last):
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 548, in run_each_pytest_function_individually
    improved_test_case = generate_improved_test_case(provider, model_arg, llm_test_improvement_prompt, success_test_cases, temperature)
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 465, in generate_improved_test_case
    formatted_prompt = llm_test_improvement_prompt.format(
        test_case={success_test_cases}
    )
KeyError: 'test_code'
2025-04-17 11:01:52,849 - INFO - 
TEST CASE 2 Retry 0
---------------
import math
from theory_evaluation.circle_utils import circle_area, circle_circumference
import pytest



def test_circle_area_zero_radius():
    assert circle_area(0) == pytest.approx(0)

---------------
2025-04-17 11:01:53,878 - INFO - TEST CASE 2 Retry 0 - Result - Passed
2025-04-17 11:01:53,878 - ERROR - Exception occurred while processing test case 2: 'test_code'
Traceback (most recent call last):
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 548, in run_each_pytest_function_individually
    improved_test_case = generate_improved_test_case(provider, model_arg, llm_test_improvement_prompt, success_test_cases, temperature)
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 465, in generate_improved_test_case
    formatted_prompt = llm_test_improvement_prompt.format(
        test_case={success_test_cases}
    )
KeyError: 'test_code'
2025-04-17 11:01:53,878 - INFO - 
TEST CASE 3 Retry 0
---------------
import math
from theory_evaluation.circle_utils import circle_area, circle_circumference
import pytest



def test_circle_area_negative_radius():
    with pytest.raises(ValueError, match="Radius cannot be negative."):
        circle_area(-1)

---------------
2025-04-17 11:01:54,816 - INFO - TEST CASE 3 Retry 0 - Result - Passed
2025-04-17 11:01:54,816 - ERROR - Exception occurred while processing test case 3: 'test_code'
Traceback (most recent call last):
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 548, in run_each_pytest_function_individually
    improved_test_case = generate_improved_test_case(provider, model_arg, llm_test_improvement_prompt, success_test_cases, temperature)
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 465, in generate_improved_test_case
    formatted_prompt = llm_test_improvement_prompt.format(
        test_case={success_test_cases}
    )
KeyError: 'test_code'
2025-04-17 11:01:54,817 - INFO - 
TEST CASE 4 Retry 0
---------------
import math
from theory_evaluation.circle_utils import circle_area, circle_circumference
import pytest



def test_circle_circumference_positive_radius():
    assert circle_circumference(1) == pytest.approx(2 * math.pi)
    assert circle_circumference(2) == pytest.approx(4 * math.pi)

---------------
2025-04-17 11:01:56,080 - INFO - TEST CASE 4 Retry 0 - Result - Passed
2025-04-17 11:01:56,080 - ERROR - Exception occurred while processing test case 4: 'test_code'
Traceback (most recent call last):
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 548, in run_each_pytest_function_individually
    improved_test_case = generate_improved_test_case(provider, model_arg, llm_test_improvement_prompt, success_test_cases, temperature)
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 465, in generate_improved_test_case
    formatted_prompt = llm_test_improvement_prompt.format(
        test_case={success_test_cases}
    )
KeyError: 'test_code'
2025-04-17 11:01:56,083 - INFO - 
TEST CASE 5 Retry 0
---------------
import math
from theory_evaluation.circle_utils import circle_area, circle_circumference
import pytest



def test_circle_circumference_zero_radius():
    assert circle_circumference(0) == pytest.approx(0)

---------------
2025-04-17 11:01:57,521 - INFO - TEST CASE 5 Retry 0 - Result - Passed
2025-04-17 11:01:57,521 - ERROR - Exception occurred while processing test case 5: 'test_code'
Traceback (most recent call last):
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 548, in run_each_pytest_function_individually
    improved_test_case = generate_improved_test_case(provider, model_arg, llm_test_improvement_prompt, success_test_cases, temperature)
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 465, in generate_improved_test_case
    formatted_prompt = llm_test_improvement_prompt.format(
        test_case={success_test_cases}
    )
KeyError: 'test_code'
2025-04-17 11:01:57,522 - INFO - 
TEST CASE 6 Retry 0
---------------
import math
from theory_evaluation.circle_utils import circle_area, circle_circumference
import pytest



def test_circle_circumference_negative_radius():
    with pytest.raises(ValueError, match="Radius cannot be negative."):
        circle_circumference(-1)

---------------
2025-04-17 11:01:58,461 - INFO - TEST CASE 6 Retry 0 - Result - Passed
2025-04-17 11:01:58,461 - ERROR - Exception occurred while processing test case 6: 'test_code'
Traceback (most recent call last):
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 548, in run_each_pytest_function_individually
    improved_test_case = generate_improved_test_case(provider, model_arg, llm_test_improvement_prompt, success_test_cases, temperature)
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 465, in generate_improved_test_case
    formatted_prompt = llm_test_improvement_prompt.format(
        test_case={success_test_cases}
    )
KeyError: 'test_code'
2025-04-17 11:01:58,462 - INFO - run_each_pytest_function_individually complete
2025-04-17 11:01:58,462 - ERROR - Failed processing theory_evaluation\circle_utils.py: cannot access local variable 'return_test_cases' where it is not associated with a value
2025-04-17 11:01:58,462 - INFO - End Processing file: theory_evaluation\circle_utils.py

2025-04-17 11:01:58,462 - INFO - 
Start Processing file: theory_evaluation\llm_utils.py
2025-04-17 11:01:58,463 - INFO - Extraction of function and class start
2025-04-17 11:01:58,463 - INFO - extraction of function and class complete
2025-04-17 11:01:58,463 - INFO - Generate Unit Test Case starts
2025-04-17 11:01:58,463 - INFO - Extract unique import start
2025-04-17 11:01:59,970 - INFO - Extract unique import complete
2025-04-17 11:01:59,970 - INFO - Update relative import start
2025-04-17 11:01:59,971 - INFO - Update relative import complete
2025-04-17 11:02:05,332 - WARNING - Stripped Markdown-style triple backtick fences from LLM output.
2025-04-17 11:02:05,333 - INFO - Generate Unit Test Case complete
2025-04-17 11:02:05,339 - INFO - run_each_pytest_function_individually start
2025-04-17 11:02:10,689 - INFO - Number of test case to process - 5
2025-04-17 11:02:10,689 - INFO - 
TEST CASE 1 Retry 0
---------------
import os
import re
import yaml
from theory_evaluation.llm_utils import initialise_prompt, initialise_settings
import pytest



def test_initialise_prompt_success():
    agent = "test_agent"
    config_yaml = "key: value"
    prompt_txt = "This is a {$key} prompt."

---------------
2025-04-17 11:02:12,128 - INFO - TEST CASE 1 Retry 0 - Result - Passed
2025-04-17 11:02:12,129 - ERROR - Exception occurred while processing test case 1: 'test_code'
Traceback (most recent call last):
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 548, in run_each_pytest_function_individually
    improved_test_case = generate_improved_test_case(provider, model_arg, llm_test_improvement_prompt, success_test_cases, temperature)
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 465, in generate_improved_test_case
    formatted_prompt = llm_test_improvement_prompt.format(
        test_case={success_test_cases}
    )
KeyError: 'test_code'
2025-04-17 11:02:12,129 - INFO - 
TEST CASE 2 Retry 0
---------------
import os
import re
import yaml
from theory_evaluation.llm_utils import initialise_prompt, initialise_settings
import pytest



def test_initialise_prompt_missing_placeholder():
    agent = "test_agent"
    config_yaml = "key: value"
    prompt_txt = "This is a {$missing_key} prompt."

---------------
2025-04-17 11:02:13,496 - INFO - TEST CASE 2 Retry 0 - Result - Passed
2025-04-17 11:02:13,496 - ERROR - Exception occurred while processing test case 2: 'test_code'
Traceback (most recent call last):
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 548, in run_each_pytest_function_individually
    improved_test_case = generate_improved_test_case(provider, model_arg, llm_test_improvement_prompt, success_test_cases, temperature)
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 465, in generate_improved_test_case
    formatted_prompt = llm_test_improvement_prompt.format(
        test_case={success_test_cases}
    )
KeyError: 'test_code'
2025-04-17 11:02:13,497 - INFO - 
TEST CASE 3 Retry 0
---------------
import os
import re
import yaml
from theory_evaluation.llm_utils import initialise_prompt, initialise_settings
import pytest



def test_initialise_prompt_file_not_found():
    agent = "test_agent"

---------------
2025-04-17 11:02:14,738 - INFO - TEST CASE 3 Retry 0 - Result - Passed
2025-04-17 11:02:14,738 - ERROR - Exception occurred while processing test case 3: 'test_code'
Traceback (most recent call last):
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 548, in run_each_pytest_function_individually
    improved_test_case = generate_improved_test_case(provider, model_arg, llm_test_improvement_prompt, success_test_cases, temperature)
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 465, in generate_improved_test_case
    formatted_prompt = llm_test_improvement_prompt.format(
        test_case={success_test_cases}
    )
KeyError: 'test_code'
2025-04-17 11:02:14,739 - INFO - 
TEST CASE 4 Retry 0
---------------
import os
import re
import yaml
from theory_evaluation.llm_utils import initialise_prompt, initialise_settings
import pytest



def test_initialise_settings_success():
    agent = "test_agent"
    settings_yaml = "setting1: value1\nsetting2: value2"

---------------
2025-04-17 11:02:16,168 - INFO - TEST CASE 4 Retry 0 - Result - Passed
2025-04-17 11:02:16,168 - ERROR - Exception occurred while processing test case 4: 'test_code'
Traceback (most recent call last):
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 548, in run_each_pytest_function_individually
    improved_test_case = generate_improved_test_case(provider, model_arg, llm_test_improvement_prompt, success_test_cases, temperature)
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 465, in generate_improved_test_case
    formatted_prompt = llm_test_improvement_prompt.format(
        test_case={success_test_cases}
    )
KeyError: 'test_code'
2025-04-17 11:02:16,169 - INFO - 
TEST CASE 5 Retry 0
---------------
import os
import re
import yaml
from theory_evaluation.llm_utils import initialise_prompt, initialise_settings
import pytest



def test_initialise_settings_file_not_found():
    agent = "test_agent"

---------------
2025-04-17 11:02:17,182 - INFO - TEST CASE 5 Retry 0 - Result - Passed
2025-04-17 11:02:17,182 - ERROR - Exception occurred while processing test case 5: 'test_code'
Traceback (most recent call last):
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 548, in run_each_pytest_function_individually
    improved_test_case = generate_improved_test_case(provider, model_arg, llm_test_improvement_prompt, success_test_cases, temperature)
  File "C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\generate_tests.py", line 465, in generate_improved_test_case
    formatted_prompt = llm_test_improvement_prompt.format(
        test_case={success_test_cases}
    )
KeyError: 'test_code'
2025-04-17 11:02:17,184 - INFO - run_each_pytest_function_individually complete
2025-04-17 11:02:17,185 - ERROR - Failed processing theory_evaluation\llm_utils.py: cannot access local variable 'return_test_cases' where it is not associated with a value
2025-04-17 11:02:17,185 - INFO - End Processing file: theory_evaluation\llm_utils.py

