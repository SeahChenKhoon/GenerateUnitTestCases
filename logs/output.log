2025-04-15 14:15:10,372 - INFO - Loading environment variables...
2025-04-15 14:15:10,692 - INFO - [1mStart Processing file: theory_evaluation\llm_handler.py[0m
2025-04-15 14:15:19,778 - WARNING - Stripped Markdown-style triple backtick fences from LLM output.
2025-04-15 14:15:28,289 - INFO - 

2025-04-15 14:15:28,289 - INFO - TEST CASE 1 Retry 0
2025-04-15 14:15:28,289 - INFO - ---------------
2025-04-15 14:15:28,290 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai

@pytest.mark.asyncio
async def test_openai_llm_initialization(mock_openai_client):
    mock_openai, mock_azure_openai = mock_openai_client

2025-04-15 14:15:28,293 - INFO - ---------------
2025-04-15 14:15:30,096 - INFO - Test Result 1- False
2025-04-15 14:15:30,097 - INFO - Test Error 1 - =================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.02s
2025-04-15 14:15:31,792 - INFO - TEST CASE 1 Retry 1
2025-04-15 14:15:31,793 - INFO - ---------------
2025-04-15 14:15:31,793 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai
import pytest

@pytest.mark.asyncio
async def test_openai_llm_initialization(mock_openai_client):
    mock_openai, mock_azure_openai = mock_openai_client
    llm = OpenAI_llm(message="Test message", useAzureOpenAI=True)
    assert llm.client == mock_azure_openai

2025-04-15 14:15:31,793 - INFO - ---------------
2025-04-15 14:15:33,710 - INFO - Test Result 2- False
2025-04-15 14:15:33,710 - INFO - Test Error 2 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.14s
2025-04-15 14:15:34,537 - INFO - TEST CASE 1 Retry 2
2025-04-15 14:15:34,537 - INFO - ---------------
2025-04-15 14:15:34,537 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai
import pytest

@pytest.mark.asyncio
async def test_openai_llm_initialization(mock_openai_client):
    mock_openai, mock_azure_openai = mock_openai_client

2025-04-15 14:15:34,537 - INFO - ---------------
2025-04-15 14:15:36,825 - INFO - Test Result 3- False
2025-04-15 14:15:36,825 - INFO - Test Error 3 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.32s
2025-04-15 14:15:36,825 - INFO - Failed after all retries for test case 1
2025-04-15 14:15:36,826 - INFO - 

2025-04-15 14:15:36,826 - INFO - TEST CASE 2 Retry 0
2025-04-15 14:15:36,826 - INFO - ---------------
2025-04-15 14:15:36,826 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai

@pytest.mark.asyncio
async def test_openai_json_completion(mock_openai_client):
    mock_openai, _ = mock_openai_client
    mock_response = MagicMock()
    mock_response.choices[0].message.content = json.dumps({"answer": "Test answer"})
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:15:36,826 - INFO - ---------------
2025-04-15 14:15:39,379 - INFO - Test Result 1- False
2025-04-15 14:15:39,379 - INFO - Test Error 1 - =================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.70s
2025-04-15 14:15:40,863 - INFO - TEST CASE 2 Retry 1
2025-04-15 14:15:40,863 - INFO - ---------------
2025-04-15 14:15:40,864 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai
import pytest
from unittest.mock import MagicMock

@pytest.mark.asyncio
async def test_openai_json_completion(mock_openai_client):
    mock_openai, _ = mock_openai_client
    mock_response = MagicMock()
    mock_response.choices[0].message.content = json.dumps({"answer": "Test answer"})
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:15:40,864 - INFO - ---------------
2025-04-15 14:15:42,622 - INFO - Test Result 2- False
2025-04-15 14:15:42,622 - INFO - Test Error 2 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.02s
2025-04-15 14:15:43,859 - INFO - TEST CASE 2 Retry 2
2025-04-15 14:15:43,860 - INFO - ---------------
2025-04-15 14:15:43,860 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai
import pytest
from unittest.mock import MagicMock

@pytest.mark.asyncio
async def test_openai_json_completion(mock_openai_client):
    mock_openai, _ = mock_openai_client
    mock_response = MagicMock()
    mock_response.choices[0].message.content = json.dumps({"answer": "Test answer"})
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:15:43,860 - INFO - ---------------
2025-04-15 14:15:45,685 - INFO - Test Result 3- False
2025-04-15 14:15:45,685 - INFO - Test Error 3 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.12s
2025-04-15 14:15:45,685 - INFO - Failed after all retries for test case 2
2025-04-15 14:15:45,685 - INFO - 

2025-04-15 14:15:45,685 - INFO - TEST CASE 3 Retry 0
2025-04-15 14:15:45,685 - INFO - ---------------
2025-04-15 14:15:45,685 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai

@pytest.mark.asyncio
async def test_openai_streaming(mock_openai_client):
    mock_openai, _ = mock_openai_client
    mock_chunk = MagicMock()
    mock_chunk.choices[0].delta.content = "Test content"
    mock_openai.return_value.chat.completions.create.return_value = [mock_chunk]

2025-04-15 14:15:45,685 - INFO - ---------------
2025-04-15 14:15:47,894 - INFO - Test Result 1- False
2025-04-15 14:15:47,894 - INFO - Test Error 1 - =================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.25s
2025-04-15 14:15:49,194 - INFO - TEST CASE 3 Retry 1
2025-04-15 14:15:49,195 - INFO - ---------------
2025-04-15 14:15:49,195 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai
import pytest
from unittest.mock import MagicMock

@pytest.mark.asyncio
async def test_openai_streaming(mock_openai_client):
    mock_openai, _ = mock_openai_client
    mock_chunk = MagicMock()
    mock_chunk.choices[0].delta.content = "Test content"
    mock_openai.return_value.chat.completions.create.return_value = [mock_chunk]

2025-04-15 14:15:49,195 - INFO - ---------------
2025-04-15 14:15:50,947 - INFO - Test Result 2- False
2025-04-15 14:15:50,947 - INFO - Test Error 2 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.07s
2025-04-15 14:15:53,117 - INFO - TEST CASE 3 Retry 2
2025-04-15 14:15:53,118 - INFO - ---------------
2025-04-15 14:15:53,118 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai
import pytest
from unittest.mock import MagicMock

@pytest.mark.asyncio
async def test_openai_streaming(mock_openai_client):
    mock_openai, _ = mock_openai_client
    mock_chunk = MagicMock()
    mock_chunk.choices[0].delta.content = "Test content"
    mock_openai.return_value.chat.completions.create.return_value = [mock_chunk]

2025-04-15 14:15:53,119 - INFO - ---------------
2025-04-15 14:15:55,333 - INFO - Test Result 3- False
2025-04-15 14:15:55,333 - INFO - Test Error 3 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.48s
2025-04-15 14:15:55,333 - INFO - Failed after all retries for test case 3
2025-04-15 14:15:55,333 - INFO - 

2025-04-15 14:15:55,333 - INFO - TEST CASE 4 Retry 0
2025-04-15 14:15:55,333 - INFO - ---------------
2025-04-15 14:15:55,333 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai

@pytest.mark.asyncio
async def test_openai_chat_completion(mock_openai_client):
    mock_openai, _ = mock_openai_client
    mock_response = MagicMock()
    mock_response.choices[0].message.content = "Test content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:15:55,333 - INFO - ---------------
2025-04-15 14:15:57,687 - INFO - Test Result 1- False
2025-04-15 14:15:57,687 - INFO - Test Error 1 - =================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.46s
2025-04-15 14:15:58,962 - INFO - TEST CASE 4 Retry 1
2025-04-15 14:15:58,962 - INFO - ---------------
2025-04-15 14:15:58,962 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai
import pytest
from unittest.mock import MagicMock

@pytest.mark.asyncio
async def test_openai_chat_completion(mock_openai_client):
    mock_openai, _ = mock_openai_client
    mock_response = MagicMock()
    mock_response.choices[0].message.content = "Test content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:15:58,963 - INFO - ---------------
2025-04-15 14:16:00,870 - INFO - Test Result 2- False
2025-04-15 14:16:00,870 - INFO - Test Error 2 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.06s
2025-04-15 14:16:02,240 - INFO - TEST CASE 4 Retry 2
2025-04-15 14:16:02,240 - INFO - ---------------
2025-04-15 14:16:02,241 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai
import pytest
from unittest.mock import MagicMock

@pytest.mark.asyncio
async def test_openai_chat_completion(mock_openai_client):
    mock_openai, _ = mock_openai_client
    mock_response = MagicMock()
    mock_response.choices[0].message.content = "Test content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:16:02,241 - INFO - ---------------
2025-04-15 14:16:04,186 - INFO - Test Result 3- False
2025-04-15 14:16:04,186 - INFO - Test Error 3 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.10s
2025-04-15 14:16:04,186 - INFO - Failed after all retries for test case 4
2025-04-15 14:16:04,186 - INFO - 

2025-04-15 14:16:04,186 - INFO - TEST CASE 5 Retry 0
2025-04-15 14:16:04,186 - INFO - ---------------
2025-04-15 14:16:04,186 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai

@pytest.mark.asyncio
async def test_execute_text_generation(mock_openai_client):
    mock_openai, _ = mock_openai_client
    mock_response = MagicMock()
    mock_response.choices[0].message.content = "Test content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:16:04,186 - INFO - ---------------
2025-04-15 14:16:05,984 - INFO - Test Result 1- False
2025-04-15 14:16:05,984 - INFO - Test Error 1 - =================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.10s
2025-04-15 14:16:07,657 - INFO - TEST CASE 5 Retry 1
2025-04-15 14:16:07,658 - INFO - ---------------
2025-04-15 14:16:07,658 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai
import pytest
from unittest.mock import MagicMock

@pytest.mark.asyncio
async def test_execute_text_generation(mock_openai_client):
    mock_openai, _ = mock_openai_client
    mock_response = MagicMock()
    mock_response.choices[0].message.content = "Test content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:16:07,658 - INFO - ---------------
2025-04-15 14:16:09,552 - INFO - Test Result 2- False
2025-04-15 14:16:09,552 - INFO - Test Error 2 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.15s
2025-04-15 14:16:11,052 - INFO - TEST CASE 5 Retry 2
2025-04-15 14:16:11,052 - INFO - ---------------
2025-04-15 14:16:11,053 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai
import pytest
from unittest.mock import MagicMock

@pytest.mark.asyncio
async def test_execute_text_generation(mock_openai_client):
    mock_openai, _ = mock_openai_client
    mock_response = MagicMock()
    mock_response.choices[0].message.content = "Test content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:16:11,053 - INFO - ---------------
2025-04-15 14:16:13,130 - INFO - Test Result 3- False
2025-04-15 14:16:13,131 - INFO - Test Error 3 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.17s
2025-04-15 14:16:13,131 - INFO - Failed after all retries for test case 5
2025-04-15 14:16:13,131 - INFO - 

2025-04-15 14:16:13,131 - INFO - TEST CASE 6 Retry 0
2025-04-15 14:16:13,131 - INFO - ---------------
2025-04-15 14:16:13,131 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai

@pytest.mark.asyncio
async def test_execute_vision(mock_openai_client):
    mock_openai, _ = mock_openai_client
    mock_response = MagicMock()
    mock_response.choices[0].message.content = "Test content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:16:13,131 - INFO - ---------------
2025-04-15 14:16:15,348 - INFO - Test Result 1- False
2025-04-15 14:16:15,348 - INFO - Test Error 1 - =================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.29s
2025-04-15 14:16:16,570 - INFO - TEST CASE 6 Retry 1
2025-04-15 14:16:16,571 - INFO - ---------------
2025-04-15 14:16:16,571 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai
import pytest
from unittest.mock import MagicMock

@pytest.mark.asyncio
async def test_execute_vision(mock_openai_client):
    mock_openai, _ = mock_openai_client
    mock_response = MagicMock()
    mock_response.choices[0].message.content = "Test content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:16:16,571 - INFO - ---------------
2025-04-15 14:16:18,631 - INFO - Test Result 2- False
2025-04-15 14:16:18,632 - INFO - Test Error 2 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.26s
2025-04-15 14:16:20,139 - INFO - TEST CASE 6 Retry 2
2025-04-15 14:16:20,140 - INFO - ---------------
2025-04-15 14:16:20,140 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

@pytest.fixture
def mock_openai_client():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock_openai, \
         patch('theory_evaluation.llm_handler.AzureOpenAI') as mock_azure_openai:
        yield mock_openai, mock_azure_openai
import pytest
from unittest.mock import MagicMock

@pytest.mark.asyncio
async def test_execute_vision(mock_openai_client):
    mock_openai, _ = mock_openai_client
    mock_response = MagicMock()
    mock_response.choices[0].message.content = "Test content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:16:20,140 - INFO - ---------------
2025-04-15 14:16:21,945 - INFO - Test Result 3- False
2025-04-15 14:16:21,945 - INFO - Test Error 3 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:7: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 1.04s
2025-04-15 14:16:21,945 - INFO - Failed after all retries for test case 6
2025-04-15 14:16:21,946 - INFO - [1mEnd Processing file: theory_evaluation\llm_handler.py[0m

2025-04-15 14:16:21,946 - INFO - [1mStart Processing file: theory_evaluation\llm_utils.py[0m
2025-04-15 14:16:27,542 - WARNING - Stripped Markdown-style triple backtick fences from LLM output.
2025-04-15 14:16:33,165 - INFO - [1mEnd Processing file: theory_evaluation\llm_utils.py[0m

2025-04-15 14:16:33,166 - INFO - [1mStart Processing file: theory_evaluation\__init__.py[0m
2025-04-15 14:16:33,167 - WARNING - No public functions found in theory_evaluation\__init__.py. Skipping test generation.

