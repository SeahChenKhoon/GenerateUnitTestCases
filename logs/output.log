2025-04-15 14:28:09,673 - INFO - Loading environment variables...
2025-04-15 14:28:10,064 - INFO - [1mStart Processing file: theory_evaluation\llm_handler.py[0m
2025-04-15 14:28:23,529 - WARNING - Stripped Markdown-style triple backtick fences from LLM output.
2025-04-15 14:28:36,736 - INFO - 

2025-04-15 14:28:36,736 - INFO - TEST CASE 1 Retry 0
2025-04-15 14:28:36,737 - INFO - ---------------
2025-04-15 14:28:36,737 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

import pytest
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock

@pytest.mark.asyncio
async def test_openai_llm_initialization_with_openai(mock_openai):
    os.environ['OPENAI_API_KEY'] = 'test_key'
    llm = OpenAI_llm()
    assert llm.client is mock_openai.return_value
    assert hasattr(llm.client, 'chat')

2025-04-15 14:28:36,738 - INFO - ---------------
2025-04-15 14:28:38,961 - INFO - Test Result 1- False
2025-04-15 14:28:38,961 - INFO - Test Error 1 - E                                                                        [100%]
=================================== ERRORS ====================================
________ ERROR at setup of test_openai_llm_initialization_with_openai _________
temp\temp.py:10: in mock_openai
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
E   NameError: name 'patch' is not defined
============================== warnings summary ===============================
temp\temp.py:18
  C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\temp\temp.py:18: PytestUnknownMarkWarning: Unknown pytest.mark.asyncio - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.asyncio

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
ERROR temp/temp.py::test_openai_llm_initialization_with_openai - NameError: n...
1 warning, 1 error in 1.41s
2025-04-15 14:28:40,277 - INFO - TEST CASE 1 Retry 1
2025-04-15 14:28:40,278 - INFO - ---------------
2025-04-15 14:28:40,278 - INFO - 
import asyncio
import json
import os

from openai import AzureOpenAI, OpenAI

import pytest
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock
from unittest.mock import patch

@pytest.mark.asyncio
@patch('theory_evaluation.llm_handler.OpenAI')
async def test_openai_llm_initialization_with_openai(mock_openai):
    os.environ['OPENAI_API_KEY'] = 'test_key'
    llm = OpenAI_llm()
    assert llm.client is mock_openai.return_value
    assert hasattr(llm.client, 'chat')

2025-04-15 14:28:40,278 - INFO - ---------------
2025-04-15 14:28:43,364 - WARNING - Stripped Markdown-style triple backtick fences from LLM output.
2025-04-15 14:28:43,365 - INFO - New import Statements 2- from unittest.mock import patch
2025-04-15 14:28:43,365 - INFO - Test Result 2- True
2025-04-15 14:28:43,366 - INFO - Test Error 2 - 
s                                                                        [100%]
============================== warnings summary ===============================
temp\temp.py:19
  C:\ChenKhoon\JupyterNotebook\GenerateUnitTestCases\temp\temp.py:19: PytestUnknownMarkWarning: Unknown pytest.mark.asyncio - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.asyncio

temp/temp.py::test_openai_llm_initialization_with_openai
  C:\Users\User\AppData\Local\Programs\Python\Python313\Lib\site-packages\_pytest\python.py:148: PytestUnhandledCoroutineWarning: async def functions are not natively supported and have been skipped.
  You need to install a suitable plugin for your async framework, for example:
    - anyio
    - pytest-asyncio
    - pytest-tornasync
    - pytest-trio
    - pytest-twisted
    warnings.warn(PytestUnhandledCoroutineWarning(msg.format(nodeid)))

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
1 skipped, 2 warnings in 1.37s
2025-04-15 14:28:43,367 - INFO - 

2025-04-15 14:28:43,367 - INFO - TEST CASE 2 Retry 0
2025-04-15 14:28:43,367 - INFO - ---------------
2025-04-15 14:28:43,367 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock

@pytest.mark.asyncio
async def test_openai_llm_initialization_with_azure_openai(mock_azure_openai):
    os.environ['AZURE_OPENAI_API_KEY_SWEDEN'] = 'test_key'
    os.environ['AZURE_OPENAI_ENDPOINT_SWEDEN'] = 'test_endpoint'
    os.environ['AZURE_OPENAI_API_VERSION'] = 'test_version'
    llm = OpenAI_llm(useAzureOpenAI=True)
    assert llm.client is mock_azure_openai.return_value
    assert hasattr(llm.client, 'chat')

2025-04-15 14:28:43,367 - INFO - ---------------
2025-04-15 14:28:44,243 - INFO - Test Result 1- False
2025-04-15 14:28:44,243 - INFO - Test Error 1 - =================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.20s
2025-04-15 14:28:45,909 - INFO - TEST CASE 2 Retry 1
2025-04-15 14:28:45,909 - INFO - ---------------
2025-04-15 14:28:45,910 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock
import os
import pytest
from llm_handler import OpenAI_llm

@pytest.mark.asyncio
async def test_openai_llm_initialization_with_azure_openai(mock_azure_openai):
    os.environ['AZURE_OPENAI_API_KEY_SWEDEN'] = 'test_key'
    os.environ['AZURE_OPENAI_ENDPOINT_SWEDEN'] = 'test_endpoint'
    os.environ['AZURE_OPENAI_API_VERSION'] = 'test_version'
    llm = OpenAI_llm(useAzureOpenAI=True)
    assert llm.client is mock_azure_openai.return_value
    assert hasattr(llm.client, 'chat')

2025-04-15 14:28:45,910 - INFO - ---------------
2025-04-15 14:28:46,879 - INFO - Test Result 2- False
2025-04-15 14:28:46,879 - INFO - Test Error 2 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.19s
2025-04-15 14:28:49,073 - INFO - TEST CASE 2 Retry 2
2025-04-15 14:28:49,073 - INFO - ---------------
2025-04-15 14:28:49,073 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock
import os
import pytest
from llm_handler import OpenAI_llm

@pytest.mark.asyncio
async def test_openai_llm_initialization_with_azure_openai(mock_azure_openai):
    os.environ['AZURE_OPENAI_API_KEY_SWEDEN'] = 'test_key'
    os.environ['AZURE_OPENAI_ENDPOINT_SWEDEN'] = 'test_endpoint'
    os.environ['AZURE_OPENAI_API_VERSION'] = 'test_version'
    llm = OpenAI_llm(useAzureOpenAI=True)
    assert llm.client is mock_azure_openai.return_value
    assert hasattr(llm.client, 'chat')

2025-04-15 14:28:49,074 - INFO - ---------------
2025-04-15 14:28:49,720 - INFO - Test Result 3- False
2025-04-15 14:28:49,721 - INFO - Test Error 3 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.18s
2025-04-15 14:28:49,721 - INFO - Failed after all retries for test case 2
2025-04-15 14:28:49,721 - INFO - 

2025-04-15 14:28:49,721 - INFO - TEST CASE 3 Retry 0
2025-04-15 14:28:49,721 - INFO - ---------------
2025-04-15 14:28:49,721 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock

@pytest.mark.asyncio
async def test_openai_json_completion(mock_openai):
    mock_response = AsyncMock()
    mock_response.choices[0].message.content = json.dumps({"answer": "42", "explanation": "2+2=4"})
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:28:49,721 - INFO - ---------------
2025-04-15 14:28:50,346 - INFO - Test Result 1- False
2025-04-15 14:28:50,346 - INFO - Test Error 1 - =================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.14s
2025-04-15 14:28:51,929 - INFO - TEST CASE 3 Retry 1
2025-04-15 14:28:51,930 - INFO - ---------------
2025-04-15 14:28:51,931 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock
import pytest
from unittest.mock import AsyncMock

@pytest.mark.asyncio
async def test_openai_json_completion(mock_openai):
    mock_response = AsyncMock()
    mock_response.choices[0].message.content = json.dumps({"answer": "42", "explanation": "2+2=4"})
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:28:51,931 - INFO - ---------------
2025-04-15 14:28:52,682 - INFO - Test Result 2- False
2025-04-15 14:28:52,682 - INFO - Test Error 2 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.14s
2025-04-15 14:28:53,761 - INFO - TEST CASE 3 Retry 2
2025-04-15 14:28:53,761 - INFO - ---------------
2025-04-15 14:28:53,762 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock
import pytest
from unittest.mock import AsyncMock

@pytest.mark.asyncio
async def test_openai_json_completion(mock_openai):
    mock_response = AsyncMock()
    mock_response.choices[0].message.content = json.dumps({"answer": "42", "explanation": "2+2=4"})
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:28:53,762 - INFO - ---------------
2025-04-15 14:28:54,432 - INFO - Test Result 3- False
2025-04-15 14:28:54,432 - INFO - Test Error 3 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.13s
2025-04-15 14:28:54,432 - INFO - Failed after all retries for test case 3
2025-04-15 14:28:54,433 - INFO - 

2025-04-15 14:28:54,433 - INFO - TEST CASE 4 Retry 0
2025-04-15 14:28:54,433 - INFO - ---------------
2025-04-15 14:28:54,433 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock

@pytest.mark.asyncio
async def test_openai_streaming(mock_openai):
    mock_chunk = AsyncMock()
    mock_chunk.choices[0].delta.content = "streaming content"
    mock_openai.return_value.chat.completions.create.return_value = [mock_chunk]

2025-04-15 14:28:54,433 - INFO - ---------------
2025-04-15 14:28:55,088 - INFO - Test Result 1- False
2025-04-15 14:28:55,088 - INFO - Test Error 1 - =================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.17s
2025-04-15 14:28:56,311 - INFO - TEST CASE 4 Retry 1
2025-04-15 14:28:56,312 - INFO - ---------------
2025-04-15 14:28:56,312 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock
import pytest
from unittest.mock import AsyncMock

@pytest.mark.asyncio
async def test_openai_streaming(mock_openai):
    mock_chunk = AsyncMock()
    mock_chunk.choices[0].delta.content = "streaming content"
    mock_openai.return_value.chat.completions.create.return_value = [mock_chunk]

2025-04-15 14:28:56,312 - INFO - ---------------
2025-04-15 14:28:57,267 - INFO - Test Result 2- False
2025-04-15 14:28:57,267 - INFO - Test Error 2 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.19s
2025-04-15 14:28:58,769 - INFO - TEST CASE 4 Retry 2
2025-04-15 14:28:58,769 - INFO - ---------------
2025-04-15 14:28:58,769 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock
import pytest
from unittest.mock import AsyncMock

@pytest.mark.asyncio
async def test_openai_streaming(mock_openai):
    mock_chunk = AsyncMock()
    mock_chunk.choices[0].delta.content = "streaming content"
    mock_openai.return_value.chat.completions.create.return_value = [mock_chunk]

2025-04-15 14:28:58,769 - INFO - ---------------
2025-04-15 14:28:59,543 - INFO - Test Result 3- False
2025-04-15 14:28:59,543 - INFO - Test Error 3 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.17s
2025-04-15 14:28:59,543 - INFO - Failed after all retries for test case 4
2025-04-15 14:28:59,543 - INFO - 

2025-04-15 14:28:59,543 - INFO - TEST CASE 5 Retry 0
2025-04-15 14:28:59,543 - INFO - ---------------
2025-04-15 14:28:59,543 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock

@pytest.mark.asyncio
async def test_openai_chat_completion(mock_openai):
    mock_response = AsyncMock()
    mock_response.choices[0].message.content = "chat content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:28:59,543 - INFO - ---------------
2025-04-15 14:29:00,428 - INFO - Test Result 1- False
2025-04-15 14:29:00,429 - INFO - Test Error 1 - =================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.19s
2025-04-15 14:29:01,485 - INFO - TEST CASE 5 Retry 1
2025-04-15 14:29:01,486 - INFO - ---------------
2025-04-15 14:29:01,486 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock
import pytest
from unittest.mock import AsyncMock

@pytest.mark.asyncio
async def test_openai_chat_completion(mock_openai):
    mock_response = AsyncMock()
    mock_response.choices[0].message.content = "chat content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:29:01,487 - INFO - ---------------
2025-04-15 14:29:02,309 - INFO - Test Result 2- False
2025-04-15 14:29:02,309 - INFO - Test Error 2 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.17s
2025-04-15 14:29:03,387 - INFO - TEST CASE 5 Retry 2
2025-04-15 14:29:03,387 - INFO - ---------------
2025-04-15 14:29:03,388 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock
import pytest
from unittest.mock import AsyncMock

@pytest.mark.asyncio
async def test_openai_chat_completion(mock_openai):
    mock_response = AsyncMock()
    mock_response.choices[0].message.content = "chat content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:29:03,388 - INFO - ---------------
2025-04-15 14:29:04,101 - INFO - Test Result 3- False
2025-04-15 14:29:04,101 - INFO - Test Error 3 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.16s
2025-04-15 14:29:04,101 - INFO - Failed after all retries for test case 5
2025-04-15 14:29:04,102 - INFO - 

2025-04-15 14:29:04,102 - INFO - TEST CASE 6 Retry 0
2025-04-15 14:29:04,102 - INFO - ---------------
2025-04-15 14:29:04,102 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock

@pytest.mark.asyncio
async def test_execute_text_generation(mock_openai):
    mock_response = AsyncMock()
    mock_response.choices[0].message.content = "text generation content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:29:04,102 - INFO - ---------------
2025-04-15 14:29:04,733 - INFO - Test Result 1- False
2025-04-15 14:29:04,733 - INFO - Test Error 1 - =================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.18s
2025-04-15 14:29:06,096 - INFO - TEST CASE 6 Retry 1
2025-04-15 14:29:06,097 - INFO - ---------------
2025-04-15 14:29:06,097 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock
import pytest
from unittest.mock import AsyncMock

@pytest.mark.asyncio
async def test_execute_text_generation(mock_openai):
    mock_response = AsyncMock()
    mock_response.choices[0].message.content = "text generation content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:29:06,097 - INFO - ---------------
2025-04-15 14:29:06,857 - INFO - Test Result 2- False
2025-04-15 14:29:06,857 - INFO - Test Error 2 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.18s
2025-04-15 14:29:07,839 - INFO - TEST CASE 6 Retry 2
2025-04-15 14:29:07,840 - INFO - ---------------
2025-04-15 14:29:07,840 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock
import pytest
from unittest.mock import AsyncMock

@pytest.mark.asyncio
async def test_execute_text_generation(mock_openai):
    mock_response = AsyncMock()
    mock_response.choices[0].message.content = "text generation content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:29:07,840 - INFO - ---------------
2025-04-15 14:29:08,631 - INFO - Test Result 3- False
2025-04-15 14:29:08,631 - INFO - Test Error 3 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.19s
2025-04-15 14:29:08,631 - INFO - Failed after all retries for test case 6
2025-04-15 14:29:08,631 - INFO - 

2025-04-15 14:29:08,631 - INFO - TEST CASE 7 Retry 0
2025-04-15 14:29:08,631 - INFO - ---------------
2025-04-15 14:29:08,631 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock

@pytest.mark.asyncio
async def test_execute_vision(mock_openai):
    mock_response = AsyncMock()
    mock_response.choices[0].message.content = "vision content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:29:08,631 - INFO - ---------------
2025-04-15 14:29:09,236 - INFO - Test Result 1- False
2025-04-15 14:29:09,237 - INFO - Test Error 1 - =================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.15s
2025-04-15 14:29:10,753 - INFO - TEST CASE 7 Retry 1
2025-04-15 14:29:10,753 - INFO - ---------------
2025-04-15 14:29:10,754 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock
import pytest
from unittest.mock import AsyncMock

@pytest.mark.asyncio
async def test_execute_vision(mock_openai):
    mock_response = AsyncMock()
    mock_response.choices[0].message.content = "vision content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:29:10,754 - INFO - ---------------
2025-04-15 14:29:11,439 - INFO - Test Result 2- False
2025-04-15 14:29:11,439 - INFO - Test Error 2 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.17s
2025-04-15 14:29:12,803 - INFO - TEST CASE 7 Retry 2
2025-04-15 14:29:12,804 - INFO - ---------------
2025-04-15 14:29:12,804 - INFO - 
from unittest.mock import patch
@pytest.fixture
def mock_openai():
    with patch('theory_evaluation.llm_handler.OpenAI') as mock:
        yield mock

@pytest.fixture
def mock_azure_openai():
    with patch('theory_evaluation.llm_handler.AzureOpenAI') as mock:
        yield mock
import pytest
from unittest.mock import AsyncMock

@pytest.mark.asyncio
async def test_execute_vision(mock_openai):
    mock_response = AsyncMock()
    mock_response.choices[0].message.content = "vision content"
    mock_openai.return_value.chat.completions.create.return_value = mock_response

2025-04-15 14:29:12,804 - INFO - ---------------
2025-04-15 14:29:13,488 - INFO - Test Result 3- False
2025-04-15 14:29:13,488 - INFO - Test Error 3 - 
=================================== ERRORS ====================================
________________________ ERROR collecting temp/temp.py ________________________
temp\temp.py:2: in <module>
    @pytest.fixture
E   NameError: name 'pytest' is not defined
=========================== short test summary info ===========================
ERROR temp/temp.py - NameError: name 'pytest' is not defined
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
1 error in 0.14s
2025-04-15 14:29:13,488 - INFO - Failed after all retries for test case 7
2025-04-15 14:29:13,489 - INFO - [1mEnd Processing file: theory_evaluation\llm_handler.py[0m

2025-04-15 14:29:13,489 - INFO - [1mStart Processing file: theory_evaluation\llm_utils.py[0m
2025-04-15 14:29:19,253 - WARNING - Stripped Markdown-style triple backtick fences from LLM output.
2025-04-15 14:29:25,794 - INFO - [1mEnd Processing file: theory_evaluation\llm_utils.py[0m

2025-04-15 14:29:25,795 - INFO - [1mStart Processing file: theory_evaluation\__init__.py[0m
2025-04-15 14:29:25,796 - WARNING - No public functions found in theory_evaluation\__init__.py. Skipping test generation.

